function animateCSS(e,t,s){const i=document.querySelector(e);i.classList.add("animated");const o=t.split(" ");o.forEach(e=>{i.classList.add(e)}),i.addEventListener("animationend",(function e(){i.classList.remove("animated"),o.forEach(e=>{i.classList.remove(e)}),i.removeEventListener("animationend",e),"function"==typeof s&&s()}))}class Modal{static opened=[];static overlay=null;constructor(e,t={}){this.id=e,this.modal=document.getElementById(e),this.properties={},this._setModalMargins(),this._setupOverlay(),this._setOptions(t),this.options.closeOnEsc&&this.options.canBeDismissed&&this._bindEsc()}_setModalMargins(){this.modal.classList.contains("modal")&&(this.modal.style.marginLeft=`-${(this.modal.offsetWidth/2).toString()}px`,this.modal.style.marginTop=`-${(this.modal.offsetHeight/2).toString()}px`)}_setOptions(e){if(this.options={},this.options.closeOnEsc=!0,this.options.canBeDismissed=!0,this.options.preventScrolling=!0,this.options.beforeOpen=()=>{},this.options.beforeClose=()=>{},this.options.afterClose=()=>{},this.options.afterOpen=()=>{},e)for(var t of Object.keys(e))this.options[t]=e[t]}_isVisible(){return!!this.modal&&!!(this.modal.offsetWidth||this.modal.offsetHeight||this.modal.getClientRects().length)}_setupListener(){this.options.trigger.addEventListener("click",()=>{this.open()})}_bindEsc(){document.addEventListener("keyup",e=>{"Escape"===e.key&&this.close()})}_setupOverlay(){Modal.overlay||(Modal.overlay=document.createElement("div"),Modal.overlay.className="modal-overlay",document.querySelector("body").appendChild(Modal.overlay),Modal.overlay.classList.toggle("hidden"))}_toggleModal(e){e?(Modal.overlay.classList.remove("hidden"),this.modal.style.visibility="visible",this.modal.classList.contains("modal-bottom")?animateCSS(`#${this.id}`,"slideInUp"):animateCSS(`#${this.id}`,"fadeIn zoomIn")):(0==Modal.opened.length&&Modal.overlay.classList.add("hidden"),this.modal.classList.contains("modal-bottom")?animateCSS(`#${this.id}`,"slideOutDown",()=>{this.modal.style.visibility="hidden"}):animateCSS(`#${this.id}`,"fadeOut zoomOut",()=>{this.modal.style.visibility="hidden"}))}_attachClickListener(){document.addEventListener("click",this._outsideClickListener,!1)}_removeClickListener=()=>{document.removeEventListener("click",this._outsideClickListener,!1)};_outsideClickListener=e=>{!this.modal.contains(e.target)&&this._isVisible(this.modal)&&this.close()};open(){this.options.beforeOpen(),this.options.preventScrolling&&(document.querySelector("body").style.overflowY="hidden"),this._toggleModal(!0),this.properties.opened=Date.now(),Modal.opened.push(this.properties.opened),this.options.canBeDismissed&&setTimeout(()=>{this._attachClickListener(),this.options.afterOpen()},0)}close(){this.properties.opened==Modal.opened[Modal.opened.length-1]&&(this.options.beforeClose(),Modal.opened.pop(),this._toggleModal(!1),this.properties.opened=0,setTimeout(()=>{this._removeClickListener(),0===Modal.opened.length&&(document.querySelector("body").style.overflowY="auto")},0),this.options.afterClose())}}class Sidenav{constructor(e){this._setupSelectors(e),this._setupClickListeners(),Sidenav._bindEsc()}_setupSelectors(e){this.id=e,this.openTrigger=document.querySelector(`#${e} .trigger`),this.sidenav=document.querySelector(`#${e} .sidenav`),this.closeTrigger=document.querySelector(`#${e} .close-trigger`)}_setupClickListeners(){this.openTrigger&&this.openTrigger.addEventListener("click",()=>{this.sidenav.classList.add("active")}),this.closeTrigger&&this.closeTrigger.addEventListener("click",()=>{this.sidenav.classList.remove("active")})}static _bindEsc(){document.addEventListener("keyup",e=>{if("Escape"===e.key){document.querySelectorAll(".sidenav").forEach(e=>{e.classList.remove("active")})}})}close(){this.sidenav.classList.remove("active")}open(){this.sidenav.classList.add("active")}}class Overlay extends Sidenav{constructor(e){super(e),this.sidenav.classList.add("plain")}}