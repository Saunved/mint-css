function animateCSS(e,i,t){const s=document.querySelector(e);s.classList.add("animated");const o=i.split(" ");o.forEach(e=>{s.classList.add(e)}),s.addEventListener("animationend",(function e(){s.classList.remove("animated"),o.forEach(e=>{s.classList.remove(e)}),s.removeEventListener("animationend",e),"function"==typeof t&&t()}))}class Modal{static opened=[];static overlay=null;constructor(e,i={}){this.id=e,this.modal=document.getElementById(e),this.properties={},this._setModalMargins(),this._setupOverlay(),this._setOptions(i),this.options.closeOnEsc&&this.options.canBeDismissed&&this._bindEsc()}_setModalMargins(){this.modal.classList.contains("modal")&&(this.modal.style.marginLeft=`-${(this.modal.offsetWidth/2).toString()}px`,this.modal.style.marginTop=`-${(this.modal.offsetHeight/2).toString()}px`)}_setOptions(e){if(this.options={},this.options.closeOnEsc=!0,this.options.canBeDismissed=!0,this.options.preventScrolling=!0,this.options.animate=!0,this.options.beforeOpen=()=>{},this.options.beforeClose=()=>{},this.options.afterClose=()=>{},this.options.afterOpen=()=>{},e)for(var i of Object.keys(e))this.options[i]=e[i];screen.width<364&&(this.options.animate=!1)}_isVisible(){return!!this.modal&&!!(this.modal.offsetWidth||this.modal.offsetHeight||this.modal.getClientRects().length)}_setupListener(){this.options.trigger.addEventListener("click",()=>{this.open()})}_bindEsc(){document.addEventListener("keyup",e=>{"Escape"===e.key&&this.close()})}_setupOverlay(){Modal.overlay||(Modal.overlay=document.createElement("div"),Modal.overlay.className="modal-overlay",document.querySelector("body").appendChild(Modal.overlay),Modal.overlay.classList.toggle("hidden"))}_toggleModal(e){e?(this.options.animate&&Modal.overlay.classList.remove("hidden"),this.modal.style.visibility="visible",this.modal.classList.contains("modal-bottom")?this.options.animate&&animateCSS(`#${this.id}`,"slideInUp",()=>{Modal.overlay.classList.remove("hidden")}):this.options.animate&&animateCSS(`#${this.id}`,"fadeIn zoomIn",()=>{Modal.overlay.classList.remove("hidden")})):(0==Modal.opened.length&&Modal.overlay.classList.add("hidden"),this.modal.classList.contains("modal-bottom")?this.options.animate?animateCSS(`#${this.id}`,"slideOutDown",()=>{this.modal.style.visibility="hidden"}):this.modal.style.visibility="hidden":this.options.animate?animateCSS(`#${this.id}`,"fadeOut zoomOut",()=>{this.modal.style.visibility="hidden"}):this.modal.style.visibility="hidden")}_attachClickListener(){document.addEventListener("click",this._outsideClickListener,!1)}_removeClickListener=()=>{document.removeEventListener("click",this._outsideClickListener,!1)};_outsideClickListener=e=>{!this.modal.contains(e.target)&&this._isVisible(this.modal)&&this.close()};open(){this.options.beforeOpen(),this.options.preventScrolling&&(document.querySelector("body").style.overflowY="hidden"),this._toggleModal(!0),this.properties.opened=Date.now(),Modal.opened.push(this.properties.opened),this.options.canBeDismissed&&setTimeout(()=>{this._attachClickListener(),this.options.afterOpen()},0)}close(){this.properties.opened==Modal.opened[Modal.opened.length-1]&&(this.options.beforeClose(),Modal.opened.pop(),this._toggleModal(!1),this.properties.opened=0,setTimeout(()=>{this._removeClickListener(),0===Modal.opened.length&&(document.querySelector("body").style.overflowY="auto")},0),this.options.afterClose())}}class Sidenav{constructor(e,i={}){this._setupOptions(i),this._setupSelectors(e),this._setupClickListeners(),Sidenav._bindEsc()}_setupOptions(e){if(this.options={},this.options.enterFrom="left",e)for(var i of Object.keys(e))this.options[i]=e[i];screen.width<364&&(this.options.enterFrom="plain")}_setupSelectors(e){this.id=e,this.openTrigger=document.querySelector(`#${e} .trigger`),this.sidenav=document.querySelector(`#${e} .sidenav`),this.closeTrigger=document.querySelector(`#${e} .close-trigger`)}_setupClickListeners(){this.openTrigger&&this.openTrigger.addEventListener("click",()=>{switch(this.sidenav.style.visibility="visible",this.options.enterFrom){case"left":animateCSS(`#${this.id} .sidenav`,"slideInLeft");break;case"right":animateCSS(`#${this.id} .sidenav`,"slideInRight");break;case"top":animateCSS(`#${this.id} .sidenav`,"slideInDown");break;case"bottom":animateCSS(`#${this.id} .sidenav`,"slideInUp");break;case"plain":break;default:animateCSS(`#${this.id} .sidenav`,"slideInLeft")}}),this.closeTrigger&&this.closeTrigger.addEventListener("click",()=>{switch(this.options.enterFrom){case"left":animateCSS(`#${this.id} .sidenav`,"slideOutLeft",()=>{this._hideSidenav()});break;case"right":animateCSS(`#${this.id} .sidenav`,"slideOutRight",()=>{this._hideSidenav()});break;case"top":animateCSS(`#${this.id} .sidenav`,"slideOutUp",()=>{this._hideSidenav()});break;case"bottom":animateCSS(`#${this.id} .sidenav`,"slideOutDown",()=>{this._hideSidenav()});break;case"plain":this._hideSidenav();break;default:animateCSS(`#${this.id} .sidenav`,"slideOutLeft",()=>{this._hideSidenav()})}})}_hideSidenav(){this.sidenav.style.visibility="hidden"}static _bindEsc(){document.addEventListener("keyup",e=>{if("Escape"===e.key){document.querySelectorAll(".sidenav").forEach(e=>{e.classList.remove("active")})}})}close(){this.sidenav.classList.remove("active")}open(){this.sidenav.classList.add("active")}}class Overlay extends Sidenav{constructor(e,i){super(e),this.options.enterFrom="plain"}}